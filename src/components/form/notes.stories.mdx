import { Meta, Preview, Props, Story } from "@storybook/addon-docs/blocks"

import fixture from "./__fixtures__/form.json"
import Form from "./"
import FieldGroup from "./fields"
import TextField from "./fields/text"
import SelectField from "./fields/select"
import Label from "./fields/label"

<Meta title="Components/Form" component={Form} />

# Form

Forms are built as a three-level system, following this logic:

- Forms have many field groups
- Field groups have many fields

The form accepts configuration for the entire system and passes it down to a fields controller (i.e. the _group_), which normalizes the attributes and renders the appropriate field component.

## Usage

<Preview>
  <Story name="Form">
    <Form {...fixture} />
  </Story>
</Preview>

## Properties

Below we'll walk through the property tables for each of the relevant form components. If you'd like to reference the combined structure of a form, refer to the form fixture.

### Form

The form component is the wrapper for the entire form. It passes `field_groups` on to the fields controller, spec'd in the next section.

<Props of={Form} />

### Form Group

The form group provides the opportunity to group fields together, rendering a heading as necessary. It also acts as the fields controller by normalizing `fields` data and passing it on to the appropriate field component.

There are two field components â€” a text field and a select field. Those are outlined in the next section.

<Props of={FieldGroup} />

### Text Field

A text field can be either an input or a textarea, which is controlled by the `type` attribute.

<Props of={TextField} />

### Select Field

A select field can be either a select element or a set of input radios, controlled by the `appearance` attribute.

<Props of={SelectField} />

### Label

There is also a label component helper to normalize labels across components.

<Props of={Label} />
